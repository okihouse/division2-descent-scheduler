import dayjs from 'dayjs'
import { ScheduleModel } from '../models/ScheduleModel'
import { DescentType } from '../type/DescentType'

export default class DateUtils {
    static format(date?: string, format = 'YYYY.MM.DD') {
        return dayjs(date ?? undefined).format(format)
    }
    static toLongDateFormat(date?: string, format = 'YYYY-MM-DD HH:mm:ss'): string {
        return dayjs(date ?? undefined).format(format)
    }

    static schedule(): ScheduleModel | undefined {
        const schdulers = [
            { start: '2024-04-04 09:00:00', end: '2024-04-06 09:00:00', type: DescentType.envy },
            { start: '2024-04-06 09:00:00', end: '2024-04-08 09:00:00', type: DescentType.sloth },
            { start: '2024-04-08 09:00:00', end: '2024-04-10 09:00:00', type: DescentType.gluttony },
            { start: '2024-04-10 09:00:00', end: '2024-04-12 09:00:00', type: DescentType.greed },
            { start: '2024-04-12 09:00:00', end: '2024-04-14 09:00:00', type: DescentType.wrath },
            { start: '2024-04-14 09:00:00', end: '2024-04-16 09:00:00', type: DescentType.envy },
            { start: '2024-04-16 09:00:00', end: '2024-04-18 09:00:00', type: DescentType.sloth },
            { start: '2024-04-18 09:00:00', end: '2024-04-20 09:00:00', type: DescentType.gluttony },
            { start: '2024-04-20 09:00:00', end: '2024-04-22 09:00:00', type: DescentType.greed },
            { start: '2024-04-22 09:00:00', end: '2024-04-24 09:00:00', type: DescentType.wrath },
            { start: '2024-04-24 09:00:00', end: '2024-04-26 09:00:00', type: DescentType.envy },
            { start: '2024-04-26 09:00:00', end: '2024-04-28 09:00:00', type: DescentType.sloth },
            { start: '2024-04-28 09:00:00', end: '2024-04-30 09:00:00', type: DescentType.gluttony },
            { start: '2024-04-30 09:00:00', end: '2024-05-02 09:00:00', type: DescentType.greed },
            { start: '2024-05-02 09:00:00', end: '2024-05-04 09:00:00', type: DescentType.wrath },
            { start: '2024-05-04 09:00:00', end: '2024-05-06 09:00:00', type: DescentType.envy },
            { start: '2024-05-06 09:00:00', end: '2024-05-08 09:00:00', type: DescentType.sloth },
            { start: '2024-05-08 09:00:00', end: '2024-05-10 09:00:00', type: DescentType.gluttony },
            { start: '2024-05-10 09:00:00', end: '2024-05-12 09:00:00', type: DescentType.greed },
            { start: '2024-05-12 09:00:00', end: '2024-05-14 09:00:00', type: DescentType.wrath },
            { start: '2024-05-14 09:00:00', end: '2024-05-16 09:00:00', type: DescentType.envy },
            { start: '2024-05-16 09:00:00', end: '2024-05-18 09:00:00', type: DescentType.sloth },
            { start: '2024-05-18 09:00:00', end: '2024-05-20 09:00:00', type: DescentType.gluttony },
            { start: '2024-05-20 09:00:00', end: '2024-05-22 09:00:00', type: DescentType.greed },
            { start: '2024-05-22 09:00:00', end: '2024-05-24 09:00:00', type: DescentType.wrath },
            { start: '2024-05-24 09:00:00', end: '2024-05-26 09:00:00', type: DescentType.envy },
            { start: '2024-05-26 09:00:00', end: '2024-05-28 09:00:00', type: DescentType.sloth },
            { start: '2024-05-28 09:00:00', end: '2024-05-30 09:00:00', type: DescentType.gluttony },
            { start: '2024-05-30 09:00:00', end: '2024-06-01 09:00:00', type: DescentType.greed },
            { start: '2024-06-01 09:00:00', end: '2024-06-03 09:00:00', type: DescentType.wrath },
            { start: '2024-06-03 09:00:00', end: '2024-06-05 09:00:00', type: DescentType.envy },
            { start: '2024-06-05 09:00:00', end: '2024-06-07 09:00:00', type: DescentType.sloth },
            { start: '2024-06-07 09:00:00', end: '2024-06-09 09:00:00', type: DescentType.gluttony },
            { start: '2024-06-09 09:00:00', end: '2024-06-11 09:00:00', type: DescentType.greed },
            { start: '2024-06-11 09:00:00', end: '2024-06-13 09:00:00', type: DescentType.wrath },
            { start: '2024-06-13 09:00:00', end: '2024-06-15 09:00:00', type: DescentType.envy },
            { start: '2024-06-15 09:00:00', end: '2024-06-17 09:00:00', type: DescentType.sloth },
            { start: '2024-06-17 09:00:00', end: '2024-06-19 09:00:00', type: DescentType.gluttony },
            { start: '2024-06-19 09:00:00', end: '2024-06-21 09:00:00', type: DescentType.greed },
            { start: '2024-06-21 09:00:00', end: '2024-06-23 09:00:00', type: DescentType.wrath },
            { start: '2024-06-23 09:00:00', end: '2024-06-25 09:00:00', type: DescentType.envy },
            { start: '2024-06-25 09:00:00', end: '2024-06-27 09:00:00', type: DescentType.sloth },
            { start: '2024-06-27 09:00:00', end: '2024-06-29 09:00:00', type: DescentType.gluttony },
            { start: '2024-06-29 09:00:00', end: '2024-07-01 09:00:00', type: DescentType.greed },
            { start: '2024-07-01 09:00:00', end: '2024-07-03 09:00:00', type: DescentType.wrath },
            { start: '2024-07-03 09:00:00', end: '2024-07-05 09:00:00', type: DescentType.envy },
            { start: '2024-07-05 09:00:00', end: '2024-07-07 09:00:00', type: DescentType.sloth },
            { start: '2024-07-07 09:00:00', end: '2024-07-09 09:00:00', type: DescentType.gluttony },
            { start: '2024-07-09 09:00:00', end: '2024-07-11 09:00:00', type: DescentType.greed },
            { start: '2024-07-11 09:00:00', end: '2024-07-13 09:00:00', type: DescentType.wrath },
            { start: '2024-07-13 09:00:00', end: '2024-07-15 09:00:00', type: DescentType.envy },
            { start: '2024-07-15 09:00:00', end: '2024-07-17 09:00:00', type: DescentType.sloth },
            { start: '2024-07-17 09:00:00', end: '2024-07-19 09:00:00', type: DescentType.gluttony },
            { start: '2024-07-19 09:00:00', end: '2024-07-21 09:00:00', type: DescentType.greed },
            { start: '2024-07-21 09:00:00', end: '2024-07-23 09:00:00', type: DescentType.wrath },
            { start: '2024-07-23 09:00:00', end: '2024-07-25 09:00:00', type: DescentType.envy },
            { start: '2024-07-25 09:00:00', end: '2024-07-27 09:00:00', type: DescentType.sloth },
            { start: '2024-07-27 09:00:00', end: '2024-07-29 09:00:00', type: DescentType.gluttony },
            { start: '2024-07-29 09:00:00', end: '2024-07-31 09:00:00', type: DescentType.greed },
            { start: '2024-07-31 09:00:00', end: '2024-08-02 09:00:00', type: DescentType.wrath },
            { start: '2024-08-02 09:00:00', end: '2024-08-04 09:00:00', type: DescentType.envy },
            { start: '2024-08-04 09:00:00', end: '2024-08-06 09:00:00', type: DescentType.sloth },
            { start: '2024-08-06 09:00:00', end: '2024-08-08 09:00:00', type: DescentType.gluttony },
            { start: '2024-08-08 09:00:00', end: '2024-08-10 09:00:00', type: DescentType.greed },
            { start: '2024-08-10 09:00:00', end: '2024-08-12 09:00:00', type: DescentType.wrath },
            { start: '2024-08-12 09:00:00', end: '2024-08-14 09:00:00', type: DescentType.envy },
            { start: '2024-08-14 09:00:00', end: '2024-08-16 09:00:00', type: DescentType.sloth },
            { start: '2024-08-16 09:00:00', end: '2024-08-18 09:00:00', type: DescentType.gluttony },
            { start: '2024-08-18 09:00:00', end: '2024-08-20 09:00:00', type: DescentType.greed },
            { start: '2024-08-20 09:00:00', end: '2024-08-22 09:00:00', type: DescentType.wrath },
            { start: '2024-08-22 09:00:00', end: '2024-08-24 09:00:00', type: DescentType.envy },
            { start: '2024-08-24 09:00:00', end: '2024-08-26 09:00:00', type: DescentType.sloth },
            { start: '2024-08-26 09:00:00', end: '2024-08-28 09:00:00', type: DescentType.gluttony },
            { start: '2024-08-28 09:00:00', end: '2024-08-30 09:00:00', type: DescentType.greed },
            { start: '2024-08-30 09:00:00', end: '2024-09-01 09:00:00', type: DescentType.wrath },
            { start: '2024-09-01 09:00:00', end: '2024-09-03 09:00:00', type: DescentType.envy },
            { start: '2024-09-03 09:00:00', end: '2024-09-05 09:00:00', type: DescentType.sloth },
            { start: '2024-09-05 09:00:00', end: '2024-09-07 09:00:00', type: DescentType.gluttony },
            { start: '2024-09-07 09:00:00', end: '2024-09-09 09:00:00', type: DescentType.greed },
            { start: '2024-09-09 09:00:00', end: '2024-09-11 09:00:00', type: DescentType.wrath },
            { start: '2024-09-11 09:00:00', end: '2024-09-13 09:00:00', type: DescentType.envy },
            { start: '2024-09-13 09:00:00', end: '2024-09-15 09:00:00', type: DescentType.sloth },
            { start: '2024-09-15 09:00:00', end: '2024-09-17 09:00:00', type: DescentType.gluttony },
            { start: '2024-09-17 09:00:00', end: '2024-09-19 09:00:00', type: DescentType.greed },
            { start: '2024-09-19 09:00:00', end: '2024-09-21 09:00:00', type: DescentType.wrath },
            { start: '2024-09-21 09:00:00', end: '2024-09-23 09:00:00', type: DescentType.envy },
            { start: '2024-09-23 09:00:00', end: '2024-09-25 09:00:00', type: DescentType.sloth },
            { start: '2024-09-25 09:00:00', end: '2024-09-27 09:00:00', type: DescentType.gluttony },
            { start: '2024-09-27 09:00:00', end: '2024-09-29 09:00:00', type: DescentType.greed },
            { start: '2024-09-29 09:00:00', end: '2024-10-01 09:00:00', type: DescentType.wrath },
            { start: '2024-10-01 09:00:00', end: '2024-10-03 09:00:00', type: DescentType.envy },
            { start: '2024-10-03 09:00:00', end: '2024-10-05 09:00:00', type: DescentType.sloth },
            { start: '2024-10-05 09:00:00', end: '2024-10-07 09:00:00', type: DescentType.gluttony },
            { start: '2024-10-07 09:00:00', end: '2024-10-09 09:00:00', type: DescentType.greed },
            { start: '2024-10-09 09:00:00', end: '2024-10-11 09:00:00', type: DescentType.wrath },
            { start: '2024-10-11 09:00:00', end: '2024-10-13 09:00:00', type: DescentType.envy },
            { start: '2024-10-13 09:00:00', end: '2024-10-15 09:00:00', type: DescentType.sloth },
            { start: '2024-10-15 09:00:00', end: '2024-10-17 09:00:00', type: DescentType.gluttony },
            { start: '2024-10-17 09:00:00', end: '2024-10-19 09:00:00', type: DescentType.greed },
            { start: '2024-10-19 09:00:00', end: '2024-10-21 09:00:00', type: DescentType.wrath },
            { start: '2024-10-21 09:00:00', end: '2024-10-23 09:00:00', type: DescentType.envy },
            { start: '2024-10-23 09:00:00', end: '2024-10-25 09:00:00', type: DescentType.sloth },
            { start: '2024-10-25 09:00:00', end: '2024-10-27 09:00:00', type: DescentType.gluttony },
            { start: '2024-10-27 09:00:00', end: '2024-10-29 09:00:00', type: DescentType.greed },
            { start: '2024-10-29 09:00:00', end: '2024-10-31 09:00:00', type: DescentType.wrath },
            { start: '2024-10-31 09:00:00', end: '2024-11-02 09:00:00', type: DescentType.envy },
            { start: '2024-11-02 09:00:00', end: '2024-11-04 09:00:00', type: DescentType.sloth },
            { start: '2024-11-04 09:00:00', end: '2024-11-06 09:00:00', type: DescentType.gluttony },
            { start: '2024-11-06 09:00:00', end: '2024-11-08 09:00:00', type: DescentType.greed },
            { start: '2024-11-08 09:00:00', end: '2024-11-10 09:00:00', type: DescentType.wrath },
            { start: '2024-11-10 09:00:00', end: '2024-11-12 09:00:00', type: DescentType.envy },
            { start: '2024-11-12 09:00:00', end: '2024-11-14 09:00:00', type: DescentType.sloth },
            { start: '2024-11-14 09:00:00', end: '2024-11-16 09:00:00', type: DescentType.gluttony },
            { start: '2024-11-16 09:00:00', end: '2024-11-18 09:00:00', type: DescentType.greed },
            { start: '2024-11-18 09:00:00', end: '2024-11-20 09:00:00', type: DescentType.wrath },
            { start: '2024-11-20 09:00:00', end: '2024-11-22 09:00:00', type: DescentType.envy },
            { start: '2024-11-22 09:00:00', end: '2024-11-24 09:00:00', type: DescentType.sloth },
            { start: '2024-11-24 09:00:00', end: '2024-11-26 09:00:00', type: DescentType.gluttony },
            { start: '2024-11-26 09:00:00', end: '2024-11-28 09:00:00', type: DescentType.greed },
            { start: '2024-11-28 09:00:00', end: '2024-11-30 09:00:00', type: DescentType.wrath },
            { start: '2024-11-30 09:00:00', end: '2024-12-02 09:00:00', type: DescentType.envy },
            { start: '2024-12-02 09:00:00', end: '2024-12-04 09:00:00', type: DescentType.sloth },
            { start: '2024-12-04 09:00:00', end: '2024-12-06 09:00:00', type: DescentType.gluttony },
            { start: '2024-12-06 09:00:00', end: '2024-12-08 09:00:00', type: DescentType.greed },
            { start: '2024-12-08 09:00:00', end: '2024-12-10 09:00:00', type: DescentType.wrath },
            { start: '2024-12-10 09:00:00', end: '2024-12-12 09:00:00', type: DescentType.envy },
            { start: '2024-12-12 09:00:00', end: '2024-12-14 09:00:00', type: DescentType.sloth },
            { start: '2024-12-14 09:00:00', end: '2024-12-16 09:00:00', type: DescentType.gluttony },
            { start: '2024-12-16 09:00:00', end: '2024-12-18 09:00:00', type: DescentType.greed },
            { start: '2024-12-18 09:00:00', end: '2024-12-20 09:00:00', type: DescentType.wrath },
            { start: '2024-12-20 09:00:00', end: '2024-12-22 09:00:00', type: DescentType.envy },
            { start: '2024-12-22 09:00:00', end: '2024-12-24 09:00:00', type: DescentType.sloth },
            { start: '2024-12-24 09:00:00', end: '2024-12-26 09:00:00', type: DescentType.gluttony },
            { start: '2024-12-26 09:00:00', end: '2024-12-28 09:00:00', type: DescentType.greed },
            { start: '2024-12-28 09:00:00', end: '2024-12-30 09:00:00', type: DescentType.wrath },
            { start: '2024-12-30 09:00:00', end: '2025-01-01 09:00:00', type: DescentType.envy },
        ]

        const now = dayjs()
        return schdulers.find(s => dayjs(s.start).isBefore(now) && now.isBefore(s.end))
    }

    static test() {
        let now = dayjs('2024-04-04 09:00:00')
        do {
            const clone = now
            now = now.add(2, 'day')

            console.log(`{ start: '${clone.format('YYYY-MM-DD HH:mm:ss')}', end: '${now.format('YYYY-MM-DD HH:mm:ss')}' },`)
        } while (now.isBefore(dayjs('2025-01-01 09:00:00')))
    }
}